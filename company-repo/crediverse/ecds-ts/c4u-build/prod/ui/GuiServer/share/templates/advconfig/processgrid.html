<!-- Variables:
	label: 	Description Label
-->

<div th:fragment="ussdGrid">
	<div class="row">
		<div class="col-xs-12 col-sm-6 col-md-8 user_heading" th:text="${label}">USSD Process Configuration</div>
	</div>
		
	<div class="row">
		<div class="col-lg-7 col-md-12 col-xs-12 col-sm-12">
			<div id="processModel" class="processbox processbox_left"></div>
		</div>
		<div class="col-lg-5 col-md-12 col-xs-12 col-sm-12">
			<div id="processOptions" class="processbox">
				<div>
					<!-- Heading -->
					<table class="proptable">
						<thead>
							<tr>
								<td>Name</td>
								<td>Value</td>
								<td></td>
							</tr>
						</thead>
					</table>
					
					<!-- Group -->
					<div class="propgrid-title-outer">
						<div id="general" class="propgrid-title-expand propgroup">General</div>	
					</div>
					
					<!--Property table -->
					<table class="proptable" id="general_data" >
						<tr id="prop">
							<td>Full Prop Name</td>
							<td>Some Data</td>
							<td>
								<a class="editproperty" href="#"><span class="glyphicon glyphicon-pencil editbutton" title="edit"></span></a> 
							</td>
						</tr>
						<tr>
							<td>Flow</td>
							<td>Some Data</td>
							<td></td>
						</tr>
						<tr>
							<td>Flow</td>
							<td>Some Data</td>
							<td></td>
						</tr>
					</table>
					
					<!-- Group -->
					<div class="propgrid-title-outer">
						<div id="flow" class="propgrid-title-expand propgroup">Flow</div>		
					</div>
					
					<!--Property table -->
					<table class="proptable" id="flow_data" >
						<tr>
							<td>Hello Somthing</td>
							<td>...</td>
							<td></td>
						</tr>
						<tr>
							<td>Somthing</td>
							<td>...</td>
							<td></td>
						</tr>
						<tr>
							<td>Somthing</td>
							<td>..</td>
							<td></td>
						</tr>
					</table>
				</div>
			</div>
		</div>
	</div>
	
	<form id="textTexts" name="textTexts">
		<div id="menu_config" class="hide">
			<div id="menu_config_title" class="sectionLabel">Caption Text</div>
			<label for="menu_modeltext" class="langLabel">Model Text</label>
			<div lang="EN" contenteditable="true" id="menu_I" 
					name="menu_I"  spellcheck="false" dir="ltr" 
					class="ui-corner-all mytypeahead inputor messages single-line" 
					th:onkeypress="'javascript:messagesUpdated(this);'"	></div>
					
			<div class="form-group form-goup-update" th:each="lang,iterStat : ${locale}">
				<label for="lang" th:text="${lang.langDesc}" class="langLabel"></label>
				<div th:lang="${lang.langCode}" contenteditable="true" th:id="${'menu_' + iterStat.index}" 
					th:name="${'menu_' + iterStat.index}" spellcheck="false" th:dir="${lang.langRTL? 'rtl':'ltr'}" 
					class="ui-corner-all mytypeahead inputor messages single-line"
					th:onkeypress="'javascript:messagesUpdated();'"	></div>
			</div>
		</div>
	</form>
	
	<form id="emptyTexts" name="emptyTexts">
		<div id="menuitems_empty" class="hide">
			
			<div class="sectionLabel">Empty Text(no results returned)</div>
			<label for="lang" class="langLabel">Model Text</label>
			<div lang="EN" contenteditable="true" id="menuempty_I" 
					name="menuempty_I"  spellcheck="false" dir="rtl" 
					class="ui-corner-all mytypeahead inputor messages single-line"
					th:onkeypress="'javascript:messagesUpdated(this);'"	></div>
					
			<div class="form-group form-goup-update" th:each="lang,iterStat : ${locale}">
				<label for="lang" th:text="${lang.langDesc}" class="langLabel"></label>
				<div th:lang="${lang.langCode}" contenteditable="true" th:id="${'menuempty_' + iterStat.index}" 
					th:name="${'menuitems_' + iterStat.index}" spellcheck="false" th:dir="${lang.langRTL? 'rtl':'ltr'}" 
					class="ui-corner-all mytypeahead inputor messages single-line"
					th:onkeypress="'javascript:messagesUpdated();'" ></div>
			</div>
		</div>
	</form>
	
	<script>
		$(document).ready(function() {
			//Openning and closing property grid
			$(".propgroup").click(function() {
				var id = $(this).attr("id");
				var classes = $(this).attr("class");
				if ($(this).hasClass("propgrid-title-expand")) {
					$(this).removeClass("propgrid-title-expand");
					$(this).addClass("propgrid-title-collapse");
					$("#" + id + "_data").addClass("hide");
				} else {
					$(this).removeClass("propgrid-title-collapse");
					$(this).addClass("propgrid-title-expand");
					$("#" + id + "_data").removeClass("hide");
				}
				return true;
			});
			
			
			$(".editproperty").click(function() {
				var id = $(this).closest("tr").attr("id");
				return false;
			});
			
		});
	</script>
</div>
